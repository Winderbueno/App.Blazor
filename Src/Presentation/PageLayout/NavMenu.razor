@using Microsoft.AspNetCore.Components.Authorization
@using Presentation.Pages.Auth.Components

<aside>
    <header>
        <Link>
            <svg class="logo">
                <use xlink:href="../_content/K.Blazor/svg/logo.svg#blazor" />
            </svg>
        </Link>

        <Button Icon=@(collapseNav ? "menu" : "x") CssClass="nav-toggle" @onclick=ToggleNav />
    </header>

    <nav class=@NavMenuCssClass @onclick=CloseNav>
        <NavItem Label="Demo" Icon="home" Match=NavLinkMatch.All />

        <AuthorizeView>
            <NavItem Label=@t["feature.users"] Route="users/search" Icon="people" />
        </AuthorizeView>

        <AuthMenu />
    </nav>
</aside>

@code {
    private bool collapseNav = true;

    private string? NavMenuCssClass => collapseNav ? "collapse" : null;

    private void ToggleNav() => collapseNav = !collapseNav;
    private void CloseNav() => collapseNav = true;
}